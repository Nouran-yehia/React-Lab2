{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getValuesForKey = getValuesForKey;\nexports.searchStrings = searchStrings;\nexports.createFilter = createFilter;\n\nvar _fuse = require('fuse.js');\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction flatten(array) {\n  return array.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n  }, []);\n}\n\nfunction getValuesForKey(key, item) {\n  var keys = key.split('.');\n  var results = [item];\n  keys.forEach(function (_key) {\n    var tmp = [];\n    results.forEach(function (result) {\n      if (result) {\n        if (result instanceof Array) {\n          var index = parseInt(_key, 10);\n\n          if (!isNaN(index)) {\n            return tmp.push(result[index]);\n          }\n\n          result.forEach(function (res) {\n            tmp.push(res[_key]);\n          });\n        } else if (result && typeof result.get === 'function') {\n          tmp.push(result.get(_key));\n        } else {\n          tmp.push(result[_key]);\n        }\n      }\n    });\n    results = tmp;\n  }); // Support arrays and Immutable lists.\n\n  results = results.map(function (r) {\n    return r && r.push && r.toArray ? r.toArray() : r;\n  });\n  results = flatten(results);\n  return results.filter(function (r) {\n    return typeof r === 'string' || typeof r === 'number';\n  });\n}\n\nfunction searchStrings(strings, term) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      caseSensitive = _ref.caseSensitive,\n      fuzzy = _ref.fuzzy,\n      sortResults = _ref.sortResults,\n      exactMatch = _ref.exactMatch;\n\n  strings = strings.map(function (e) {\n    return e.toString();\n  });\n\n  try {\n    if (fuzzy) {\n      if (typeof strings.toJS === 'function') {\n        strings = strings.toJS();\n      }\n\n      var fuse = new _fuse2.default(strings.map(function (s) {\n        return {\n          id: s\n        };\n      }), {\n        keys: ['id'],\n        id: 'id',\n        caseSensitive: caseSensitive,\n        shouldSort: sortResults\n      });\n      return fuse.search(term).length;\n    }\n\n    return strings.some(function (value) {\n      try {\n        if (!caseSensitive) {\n          value = value.toLowerCase();\n        }\n\n        if (exactMatch) {\n          term = new RegExp('^' + term + '$', 'i');\n        }\n\n        if (value && value.search(term) !== -1) {\n          return true;\n        }\n\n        return false;\n      } catch (e) {\n        return false;\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction createFilter(term, keys) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return function (item) {\n    if (term === '') {\n      return true;\n    }\n\n    if (!options.caseSensitive) {\n      term = term.toLowerCase();\n    }\n\n    var terms = term.split(' ');\n\n    if (!keys) {\n      return terms.every(function (term) {\n        return searchStrings([item], term, options);\n      });\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    return terms.every(function (term) {\n      // allow search in specific fields with the syntax `field:search`\n      var currentKeys = void 0;\n\n      if (term.indexOf(':') !== -1) {\n        var searchedField = term.split(':')[0];\n        term = term.split(':')[1];\n        currentKeys = keys.filter(function (key) {\n          return key.toLowerCase().indexOf(searchedField) > -1;\n        });\n      } else {\n        currentKeys = keys;\n      }\n\n      return currentKeys.some(function (key) {\n        var values = getValuesForKey(key, item);\n        return searchStrings(values, term, options);\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/home/noura/my-app/node_modules/react-search-input/lib/util.js"],"names":["Object","defineProperty","exports","value","getValuesForKey","searchStrings","createFilter","_fuse","require","_fuse2","_interopRequireDefault","obj","__esModule","default","flatten","array","reduce","flat","toFlatten","concat","Array","isArray","key","item","keys","split","results","forEach","_key","tmp","result","index","parseInt","isNaN","push","res","get","map","r","toArray","filter","strings","term","_ref","arguments","length","undefined","caseSensitive","fuzzy","sortResults","exactMatch","e","toString","toJS","fuse","s","id","shouldSort","search","some","toLowerCase","RegExp","options","terms","every","currentKeys","indexOf","searchedField","values"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getValuesForKey = getValuesForKey;\nexports.searchStrings = searchStrings;\nexports.createFilter = createFilter;\n\nvar _fuse = require('fuse.js');\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction flatten(array) {\n  return array.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n  }, []);\n}\n\nfunction getValuesForKey(key, item) {\n  var keys = key.split('.');\n  var results = [item];\n  keys.forEach(function (_key) {\n    var tmp = [];\n    results.forEach(function (result) {\n      if (result) {\n        if (result instanceof Array) {\n          var index = parseInt(_key, 10);\n          if (!isNaN(index)) {\n            return tmp.push(result[index]);\n          }\n          result.forEach(function (res) {\n            tmp.push(res[_key]);\n          });\n        } else if (result && typeof result.get === 'function') {\n          tmp.push(result.get(_key));\n        } else {\n          tmp.push(result[_key]);\n        }\n      }\n    });\n\n    results = tmp;\n  });\n\n  // Support arrays and Immutable lists.\n  results = results.map(function (r) {\n    return r && r.push && r.toArray ? r.toArray() : r;\n  });\n  results = flatten(results);\n\n  return results.filter(function (r) {\n    return typeof r === 'string' || typeof r === 'number';\n  });\n}\n\nfunction searchStrings(strings, term) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      caseSensitive = _ref.caseSensitive,\n      fuzzy = _ref.fuzzy,\n      sortResults = _ref.sortResults,\n      exactMatch = _ref.exactMatch;\n\n  strings = strings.map(function (e) {\n    return e.toString();\n  });\n\n  try {\n    if (fuzzy) {\n      if (typeof strings.toJS === 'function') {\n        strings = strings.toJS();\n      }\n      var fuse = new _fuse2.default(strings.map(function (s) {\n        return { id: s };\n      }), { keys: ['id'], id: 'id', caseSensitive: caseSensitive, shouldSort: sortResults });\n      return fuse.search(term).length;\n    }\n    return strings.some(function (value) {\n      try {\n        if (!caseSensitive) {\n          value = value.toLowerCase();\n        }\n        if (exactMatch) {\n          term = new RegExp('^' + term + '$', 'i');\n        }\n        if (value && value.search(term) !== -1) {\n          return true;\n        }\n        return false;\n      } catch (e) {\n        return false;\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction createFilter(term, keys) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return function (item) {\n    if (term === '') {\n      return true;\n    }\n\n    if (!options.caseSensitive) {\n      term = term.toLowerCase();\n    }\n\n    var terms = term.split(' ');\n\n    if (!keys) {\n      return terms.every(function (term) {\n        return searchStrings([item], term, options);\n      });\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    return terms.every(function (term) {\n      // allow search in specific fields with the syntax `field:search`\n      var currentKeys = void 0;\n      if (term.indexOf(':') !== -1) {\n        var searchedField = term.split(':')[0];\n        term = term.split(':')[1];\n        currentKeys = keys.filter(function (key) {\n          return key.toLowerCase().indexOf(searchedField) > -1;\n        });\n      } else {\n        currentKeys = keys;\n      }\n\n      return currentKeys.some(function (key) {\n        var values = getValuesForKey(key, item);\n        return searchStrings(values, term, options);\n      });\n    });\n  };\n}"]},"metadata":{},"sourceType":"script"}